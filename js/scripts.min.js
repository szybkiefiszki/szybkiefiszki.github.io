var app=angular.module("cardsApp",[]);app.service("storage",function(){this.saveCards=function(r){var a=[];return r.forEach(function(r){a.push(JSON.stringify(r))}),localStorage.setItem("fastCards",a.join("|")),!0},this.getCards=function(){var r,a=[];return r=localStorage.getItem("fastCards"),null==r&&(r='{"question":"Gdzie urodził się Fryderyk Chopin?","answer":"Żelazowa Wola","active":true}|{"question":"W który roku zmarł Ludwig van Beethoven?","answer":"1827r."}|{"question":"W którym roku urodził się Wolfgang Amadeus Mozart?","answer":"1756r."}|{"question":"Gdzie umarł Johannes Brahms?","answer":"W Wiedniu"}|{"question":"W jakich latach żył Georg Friedrich Händel?","answer":"1685 - 1759"}'),r=r.split("|"),r.forEach(function(r){a.push(JSON.parse(r))}),a}}),app.controller("cardsCtrl",function(r,a){r.loader=!0,r.question="",r.answer="",r.cards=a.getCards(),r.cards.forEach(function(a,e){a.hover=!1,1==a.active&&(r.currentCard=e)}),r.toggleHover=function(a){r.cards[a].hover?r.cards[a].hover=!1:r.cards[a].hover=!0},r.toggleConfig=function(a){r.config?r.config=!1:r.config=!0},r.removeCard=function(a){r.cards[a].active&&(r.changeCard(a+1),r.changeCard(a-1)),a<=r.currentCard&&r.currentCard--,r.cards.splice(a,1)},r.addCard=function(a){""!=r.question&&""!=r.answer?(r.cards.push({question:r.question,answer:r.answer}),1==r.cards.length&&(r.cards[0].active=!0,r.currentCard=0),r.question="",r.answer=""):alert("Wprowadź pytanie i odpowiedź.")},r.changeCard=function(a){a>=0&&a<r.cards.length&&(r.cards[r.currentCard].active=!1,r.currentCard=a,r.cards[r.currentCard].active=!0,r.cards.forEach(function(r){r.hover=!1}))},r.syncCards=function(){a.saveCards(r.cards)&&alert("zapisano aktualny stan fiszek")}});